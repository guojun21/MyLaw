# 通用开发律法体系

## 🚨 律法体系

### 第一个律法：开发日志规范
**每次真实的开发活动都必须创建新的日志文件，禁止在现有日志文件中进行更新，且每次新的开发日志的末尾需要有个此次开发日志的总结性质的东西**

#### 记录范围标准
- **✅ 需要记录**: 真实对代码的修改
- **✅ 需要记录**: 运行终端代码
- **✅ 需要记录**: 部署、构建、测试等实际操作
- **❌ 不需要记录**: 预研/疑问类型的问题
- **❌ 不需要记录**: 纯理论讨论
- **❌ 不需要记录**: 知识介绍类内容

#### 文件夹组织规范
- **按日期组织**: 每天的日志放在独立的日期文件夹中
- **文件夹命名**: `YYYY-MM-DD` 格式（如：`2025-10-12`）
- **位置结构**: `docs/development-logs/YYYY-MM-DD/`
- **文件命名**: 保持原有命名规范

### 第二个律法：代码注释规范
**每次修改代码必须加上极其细致的注释(假定看代码的人是文科生，不懂计算机和代码)**

### 第三个律法：API版本与兼容性管理
**通过URI版本化与严格变更策略，确保向前兼容，避免破坏现有客户端**

### 第四个律法：自动化API文档生成与发布
**接口定义与文档保持零差异，文档变更与代码同步发布，提升团队协作效率**

### 第五个律法：需求文档同步更新
**修改前后端的需求，都要同步更改需求文档，确保需求文档与实际功能保持一致**

### 第六个律法：代码修改与项目启动分离
**除非用户明确指示重启项目并运行项目，否则只改代码，不启动项目。后端代码修改后必须自动停止后端进程并释放8080端口**

### 第七个律法：日志文件管理规范
**所有后端日志必须同时输出到终端和文件，日志文件命名包含时间范围，文件大小达到1MB时自动切换新文件，存储位置为backend/logs目录**

### 第八个律法：BUG修复与需求文档分离
**修改BUG千万禁止更新到需求文档里面，BUG修复只需要创建开发日志，需求文档只用于真正的需求变更**

### 第九个律法：接口测试必须使用Postman
**所有接口调用的测试都要用Postman来做，禁止使用其他工具进行接口测试**

### 第十个律法：日总结规范
**每天开发结束后必须创建日总结文档，总结当日开发活动、技术突破、问题解决和成果统计**

### 律法特点
- **通用性**: 适用于所有类型的开发项目
- **灵活性**: 支持各种开发活动类型
- **扩展性**: 便于添加新的律法和规范
- **维护性**: 便于更新和维护律法
- **强制性**: 所有律法都是强制遵守的规定

## 📋 律法详细规范

### 第一个律法：开发日志规范

#### 1. 文件创建规则
- **强制新建**: 每次新的开发活动都必须创建新的日志文件
- **禁止更新**: 不得在现有开发日志文件中添加或修改内容
- **时间戳唯一**: 使用精确到秒的时间戳确保文件名唯一
- **内容独立**: 每个日志文件记录独立的开发活动

#### 2. 文件命名规范
- **格式**: `YYYY-MM-DD_HH-mm-ss_development-log_总结语.md`
- **示例**: `2025-10-12_17-09-18_development-log_aboutRuleUpdate.md`
- **位置**: `docs/development-logs/YYYY-MM-DD/` (按日期组织)
- **唯一性**: 时间戳确保文件名在项目中唯一
- **总结语**: 必须包含与开发活动相关的总结语

#### 3. 时间戳获取
```bash
# Windows PowerShell
Get-Date -Format "yyyy-MM-dd_HH-mm-ss"

# Linux/macOS
date +"%Y-%m-%d_%H-%M-%S"

# 输出示例
2025-10-12_17-09-18
```

#### 4. 总结语要求
- **简洁明了**: 用简短的语言概括本次开发活动
- **内容相关**: 与本次开发活动内容直接相关
- **易于理解**: 使用通俗易懂的语言
- **唯一性**: 确保文件名唯一性
- **英文命名**: 使用英文，避免中文路径问题
- **驼峰命名**: 使用驼峰命名法
- **长度限制**: 控制在20个字符以内

#### 5. 违规处理
- **发现违规**: 如果在现有日志文件中更新内容，视为违规
- **缺少总结语**: 如果文件名缺少总结语，视为违规
- **必须重做**: 删除更新内容，创建新文件
- **严格遵循**: 此规范为强制规定，不得违反
- **记录违规**: 在项目文档中记录违规情况

### 第二个律法：代码注释规范

#### 1. 注释原则
- **文科生友好**: 使用文科生能理解的语言
- **极其细致**: 不放过任何细节
- **逻辑清晰**: 解释代码的逻辑和目的
- **背景说明**: 提供必要的背景知识

#### 2. 注释内容要求
- **功能说明**: 这段代码做什么
- **为什么这样做**: 为什么选择这种方法
- **参数解释**: 每个参数的含义
- **逻辑流程**: 代码的执行流程
- **注意事项**: 可能遇到的问题
- **相关概念**: 涉及的技术概念解释

#### 3. 语言要求
- **通俗易懂**: 使用日常语言
- **避免术语**: 少用技术术语
- **举例说明**: 用比喻和例子
- **逻辑清晰**: 按逻辑顺序说明

#### 4. 违规处理
- **发现违规**: 如果代码缺少详细注释，视为违规
- **必须重做**: 删除代码，重新编写并添加注释
- **严格遵循**: 此律法为强制规定，不得违反
- **记录违规**: 在项目文档中记录违规情况

### 第三个律法：API版本与兼容性管理

#### 1. 版本号在URI中声明
- **格式要求**: 所有对外接口路径必须以 `/api/v{major}` 开头
- **示例格式**: 
  ```
  GET  /api/v1/users
  POST /api/v2/orders
  ```
- **语义化版本**: 
  - **向后兼容**: 非破坏性变更（新增字段、扩展接口）时，保持主版本号不变
  - **破坏性变更**: 删除字段、修改字段含义、路径结构调整必须主版本号+1

#### 2. 版本生命周期与弃用策略
- **激活期**: 新版本发布后，旧版本继续接受请求，默认同时维护两个版本
- **弃用通告**: 在文档与服务响应头中添加 `Deprecation` 信息
  ```
  Deprecation: true
  Sunset-Date: 2025-12-31
  ```
- **下线处理**: 达到弃用截止日期后，旧版本接口返回 `410 Gone` 并在返回体中说明替代版本

#### 3. 版本文档与测试
- **独立文档**: 每个版本对应一份独立文档与Mock Server环境
- **分版本测试**: CI流水线需分版本执行测试用例，确保旧版本功能不受影响
- **测试覆盖**: 确保所有版本的功能测试完整

#### 4. 违规处理
- **发现违规**: 如果API缺少版本管理，视为违规
- **必须修正**: 立即添加版本管理机制
- **严格遵循**: 此律法为强制规定，不得违反
- **记录违规**: 在项目文档中记录违规情况

### 第四个律法：自动化API文档生成与发布

#### 1. 接口定义规范
- **单一真源**: 使用OpenAPI (Swagger)、gRPC Proto或GraphQL SDL作为单一真源（source of truth）
- **完整定义**: 所有请求参数、响应字段、错误码必须在定义文件中完整列出
- **多语言说明**: 添加中文及英文说明
- **同步更新**: 每次接口一旦有改动，一定要同步更新yaml文件

#### 2. 文档生成与发布
- **自动化生成**: 文档必须从接口定义文件自动生成
- **零差异**: 接口定义与文档保持零差异
- **同步发布**: 文档变更与代码同步发布
- **版本控制**: 文档版本与代码版本保持一致

#### 3. 协作效率提升
- **实时更新**: 代码变更时文档自动更新
- **团队协作**: 提升团队协作效率
- **减少错误**: 避免手动维护文档导致的不一致
- **质量保证**: 确保文档与代码的一致性

#### 4. 违规处理
- **发现违规**: 如果文档与代码不一致，视为违规
- **必须修正**: 立即同步更新文档
- **严格遵循**: 此律法为强制规定，不得违反
- **记录违规**: 在项目文档中记录违规情况

### 第五个律法：需求文档同步更新

#### 1. 需求与BUG严格区分
- **需求定义**: 来自市场调研、用户痛点分析或竞争调研的全新功能；往往具有独立业务价值，不依赖现有模块实现
- **BUG定义**: 代码错误、逻辑错误、功能异常、性能问题等需要修复的问题
- **严格禁止**: 修改BUG千万禁止更新到需求文档里面
- **分类标识**: 每个需求文档必须明确标识需求类型（新需求/旧需求变更）
- **独立文档**: 不同类型的需求必须创建独立的需求文档

#### 2. 需求文档位置规范
- **存储位置**: 所有需求文档必须存储在 `docs/requirements/` 目录下
- **目录结构**: 按日期创建子目录，格式为 `YYYY-MM-DD/`
- **文件命名**: 文件命名格式为 `YYYY-MM-DD_HH-mm-ss_requirements_功能名称.md`
- **版本管理**: 需求文档必须进行版本控制和变更记录

#### 3. 需求变更同步
- **同步要求**: 只有真正的需求变更才需要同步更新需求文档
- **BUG修复**: 修改BUG不需要更新需求文档，只需要创建开发日志
- **文档一致性**: 需求文档必须反映最新的功能状态
- **更新时机**: 文档更新必须在功能实现前完成
- **版本同步**: 文档版本必须与功能版本同步

#### 4. 文档维护要求
- **内容一致**: 需求文档必须与实际功能保持一致
- **变更记录**: 功能变更必须记录在需求文档中
- **状态同步**: 文档状态必须与功能状态同步
- **完整性检查**: 定期检查文档与功能的一致性

#### 5. 同步更新流程
- **修改前**: 功能修改前必须更新需求文档
- **实现中**: 功能实现过程中保持文档同步
- **完成后**: 功能完成后验证文档一致性
- **验证**: 定期验证文档与功能的一致性

#### 6. 需求文档判断流程
- **功能开发前**: 每次开发新功能前，必须判断是否需要更新需求文档
- **判断标准**: 
  - 新功能开发 → 必须创建新需求文档
  - 现有功能修改 → 必须更新相关需求文档
  - **BUG修复 → 禁止更新需求文档，只创建开发日志**
  - 性能优化 → 必须更新相关需求文档
  - UI调整 → 必须更新相关需求文档
- **文档更新**: 判断需要更新时，立即更新需求文档
- **文档验证**: 功能完成后验证文档与实现的一致性

#### 7. 违规处理
- **发现违规**: 如果需求文档与功能不一致，视为违规
- **必须修正**: 立即同步更新需求文档
- **严格遵循**: 此律法为强制规定，不得违反
- **记录违规**: 在项目文档中记录违规情况

### 第六个律法：代码修改与项目启动分离

#### 1. 执行原则
- **默认行为**: 默认只修改代码，不启动项目
- **明确指示**: 只有用户明确要求时才启动项目
- **避免假设**: 不假设用户需要启动项目
- **用户控制**: 让用户完全控制项目启动时机

#### 2. 后端代码修改处理
- **自动停止**: 后端代码修改后必须自动停止后端进程
- **端口释放**: 确保8080端口被释放
- **进程检查**: 检查并停止simple_server进程
- **端口验证**: 验证8080端口已释放

#### 3. 适用范围
- **代码修改**: 所有代码修改活动
- **功能开发**: 新功能开发
- **问题修复**: Bug修复
- **代码优化**: 代码重构和优化

#### 4. 例外情况
- **用户明确指示**: 用户明确要求启动项目时
- **测试需要**: 用户明确要求测试功能时
- **调试需要**: 用户明确要求调试问题时
- **演示需要**: 用户明确要求演示功能时

#### 5. 违规处理
- **发现违规**: 如果在用户未明确指示时启动项目，视为违规
- **必须停止**: 立即停止项目启动
- **严格遵循**: 此律法为强制规定，不得违反
- **记录违规**: 在项目文档中记录违规情况

### 第七个律法：日志文件管理规范

#### 1. 双重输出要求
- **终端输出**: 所有日志必须输出到终端
- **文件存储**: 所有日志必须同时保存到文件
- **同步输出**: 终端和文件输出必须同步
- **完整性**: 确保日志的完整性和一致性

#### 2. 文件命名规范
- **时间范围**: 日志文件名必须包含时间范围
- **格式要求**: 使用 `YYYY-MM-DD_HH-mm-ss` 格式
- **唯一性**: 确保文件名唯一性
- **可读性**: 文件名易于理解和识别

#### 3. 文件大小管理
- **大小限制**: 单个日志文件最大1MB
- **自动切换**: 达到1MB时自动创建新文件
- **无缝切换**: 切换过程不影响日志记录
- **文件管理**: 自动管理历史日志文件

#### 4. 存储位置规范
- **目录位置**: 所有日志文件存储在 `backend/logs` 目录
- **目录创建**: 自动创建logs目录
- **权限管理**: 确保目录和文件权限正确
- **路径规范**: 使用相对路径或绝对路径

#### 5. 违规处理
- **发现违规**: 如果日志未按规范输出，视为违规
- **必须修正**: 立即修正日志输出方式
- **严格遵循**: 此律法为强制规定，不得违反
- **记录违规**: 在项目文档中记录违规情况

### 第八个律法：BUG修复与需求文档分离

#### 1. BUG与需求严格区分
- **BUG定义**: 代码错误、逻辑错误、功能异常、性能问题等需要修复的问题
- **需求定义**: 来自市场调研、用户痛点分析或竞争调研的全新功能
- **严格禁止**: 修改BUG千万禁止更新到需求文档里面
- **分离原则**: BUG修复和需求变更必须完全分离

#### 2. BUG修复处理流程
- **开发日志**: BUG修复只需要创建开发日志
- **问题记录**: 在开发日志中记录问题现象和解决方案
- **代码修复**: 修复代码中的错误
- **测试验证**: 验证修复效果
- **文档更新**: 不更新需求文档

#### 3. 需求文档使用范围
- **新功能开发**: 新功能开发需要更新需求文档
- **功能修改**: 现有功能修改需要更新需求文档
- **性能优化**: 性能优化需要更新需求文档
- **UI调整**: UI调整需要更新需求文档
- **BUG修复**: 禁止更新需求文档

#### 4. 违规处理
- **发现违规**: 如果BUG修复更新了需求文档，视为严重违规
- **必须修正**: 立即删除需求文档中的BUG修复内容
- **严格遵循**: 此律法为强制规定，不得违反
- **记录违规**: 在项目文档中记录违规情况

### 第九个律法：接口测试必须使用Postman

#### 1. 测试工具要求
- **强制使用**: 所有接口调用的测试都要用Postman来做
- **禁止其他工具**: 禁止使用curl、wget、浏览器开发者工具等其他工具进行接口测试
- **统一标准**: 使用Postman CLI (newman) 进行自动化测试
- **测试集合**: 所有接口测试必须包含在Postman Collection中

#### 2. Postman Collection要求
- **文件位置**: 所有Postman相关文件必须存储在 `postman/` 目录下
- **命名规范**: Collection文件命名为 `collection.json`
- **测试脚本**: 每个接口请求必须包含完整的测试脚本
- **断言验证**: 必须包含状态码、响应时间、响应格式等断言

#### 3. 测试脚本规范
- **状态码验证**: 验证响应状态码是否正确
- **响应时间验证**: 验证响应时间是否在合理范围内
- **响应格式验证**: 验证响应格式是否符合预期
- **数据验证**: 验证响应数据是否正确
- **日志输出**: 输出测试执行日志

#### 4. 自动化测试要求
- **命令行执行**: 使用newman命令行工具执行测试
- **报告生成**: 生成测试报告文件
- **持续集成**: 支持CI/CD流程集成
- **错误处理**: 测试失败时提供详细错误信息

#### 5. 违规处理
- **发现违规**: 如果使用其他工具进行接口测试，视为严重违规
- **必须修正**: 立即改用Postman进行测试
- **严格遵循**: 此律法为强制规定，不得违反
- **记录违规**: 在项目文档中记录违规情况

### 第十个律法：日总结规范

#### 1. 总结要求
- **强制创建**: 每天开发结束后必须创建日总结文档
- **时间范围**: 总结当日所有开发活动
- **内容完整**: 包含开发活动、技术突破、问题解决、成果统计
- **格式统一**: 使用统一的日总结格式
- **文件命名**: 文件命名格式为 `YYYY-MM-DD_HH-mm-ss_HH-mm-ss.md`（开始时间_结束时间）

#### 2. 文件组织规范
- **存储位置**: 所有日总结文档必须存储在 `docs/development-logs/daily-summaries/` 目录下
- **目录结构**: 直接在daily-summaries目录下，不需要按日期创建子目录
- **文件命名**: 文件命名格式为 `YYYY-MM-DD_HH-mm-ss_HH-mm-ss.md`
- **版本管理**: 日总结文档必须进行版本控制和变更记录

#### 3. 内容要求
- **必须读取**: 必须实际读取 `docs/development-logs/YYYY-MM-DD/` 目录下的所有日志文件
- **禁止记忆**: 严禁基于记忆或假设进行总结
- **开发时间线**: 按时间顺序记录所有开发活动
- **主要成就**: 突出当日主要成就和技术突破
- **技术实现**: 详细记录技术实现过程
- **问题解决**: 记录问题解决过程和方法
- **成果统计**: 统计开发成果和技术特点

#### 4. 总结流程
- **第一步**: 读取 `docs/development-logs/YYYY-MM-DD/` 目录下的所有日志文件
- **第二步**: 分析日志文件内容，提取关键信息
- **第三步**: 按时间顺序整理开发活动
- **第四步**: 总结主要成就和技术突破
- **第五步**: 记录问题解决过程和方法
- **第六步**: 统计开发成果和技术特点

#### 5. 格式规范
- **标题格式**: 使用统一的标题格式
- **时间信息**: 包含总结日期、时间范围、开发阶段
- **内容结构**: 使用清晰的内容结构
- **代码示例**: 包含重要的代码示例
- **相关文件**: 列出相关文件链接

#### 6. 质量要求
- **内容准确**: 确保内容准确无误，基于实际日志文件
- **逻辑清晰**: 保持逻辑清晰和条理分明
- **重点突出**: 突出重要成就和技术突破
- **易于理解**: 使用清晰易懂的语言
- **真实可靠**: 所有内容必须基于实际日志文件

#### 7. 违规处理
- **发现违规**: 如果未创建日总结文档，视为严重违规
- **发现违规**: 如果基于记忆而非实际日志文件进行总结，视为严重违规
- **必须修正**: 立即创建日总结文档
- **严格遵循**: 此律法为强制规定，不得违反
- **记录违规**: 在项目文档中记录违规情况

## 📁 文件结构

### 通用目录结构
```
项目根目录/
├── docs/                          # 项目文档目录
│   ├── development-log-standards.md  # 开发日志规范
│   └── development-logs/           # 开发日志目录
│       ├── YYYY-MM-DD/            # 按日期组织的日志文件夹
│       │   ├── YYYY-MM-DD_HH-mm-ss_development-log.md
│       │   ├── YYYY-MM-DD_HH-mm-ss_development-log.md
│       │   └── ...                 # 该日期的所有日志
│       ├── YYYY-MM-DD/            # 另一个日期的日志文件夹
│       │   ├── YYYY-MM-DD_HH-mm-ss_development-log.md
│       │   └── ...                 # 该日期的所有日志
│       └── ...                     # 更多日期文件夹
├── backend/                        # 后端代码 (可选)
├── frontend/                       # 前端代码 (可选)
└── README.md                       # 项目主文档
```

### 命名规则
- **格式**: `YYYY-MM-DD_HH-mm-ss_development-log.md`
- **示例**: `2025-10-12_15-23-58_development-log.md`
- **时间**: 使用创建日志时的精确时间
- **唯一性**: 时间戳确保文件名在项目中唯一
- **位置**: 项目文档目录下的 `development-logs/YYYY-MM-DD/` 子目录

## 📝 日志内容要求

### 必需内容
1. **标题**: 开发日志标题 (描述本次开发活动)
2. **时间信息**: 日期和时间戳
3. **开发阶段**: 当前开发阶段或活动类型描述
4. **问题记录**: 遇到的问题和解决方案
5. **技术决策**: 重要的技术选择
6. **文件更新**: 涉及的文件变更
7. **经验总结**: 开发过程中的经验教训

### 可选内容
- **代码示例**: 重要的代码片段
- **错误日志**: 详细的错误信息
- **测试结果**: 测试验证过程
- **下一步计划**: 后续开发计划
- **相关文件**: 涉及的相关文件列表
- **参考资料**: 相关的技术文档或资源

### 内容格式建议
- **结构清晰**: 使用标题和列表组织内容
- **信息完整**: 包含足够的信息便于后续查阅
- **重点突出**: 突出重要的技术决策和问题
- **易于理解**: 使用清晰的语言和格式

## 🔧 实施步骤

### 创建新日志
1. **获取时间戳**: 使用相应系统的时间戳命令
   - Windows: `Get-Date -Format "yyyy-MM-dd_HH-mm-ss"`
   - Linux/macOS: `date +"%Y-%m-%d_%H-%M-%S"`
2. **创建日期文件夹**: 如果不存在，创建 `YYYY-MM-DD` 格式的日期文件夹
3. **创建文件**: 在项目文档目录下的 `development-logs/YYYY-MM-DD/` 子目录中创建新文件
4. **填写内容**: 记录当前开发活动，遵循内容要求
5. **更新引用**: 在项目主文档中添加新日志的引用

### 时间戳示例
```
2025-10-12_15-07-53  # 第一个日志
2025-10-12_15-11-30  # 第二个日志
2025-10-12_15-15-42  # 第三个日志
2025-10-12_15-23-58  # 第四个日志
```

### 跨平台支持
- **Windows**: 使用 PowerShell 命令
- **Linux/macOS**: 使用 date 命令
- **通用性**: 确保在不同操作系统下都能正常工作

## 📚 文档维护

### 项目主文档更新
- **项目结构**: 添加新的日志文件引用
- **文件说明**: 更新文档文件说明
- **开发日志**: 添加新日志的链接
- **索引维护**: 维护日志索引和分类

### 日志索引
- **时间顺序**: 按时间戳排序
- **内容分类**: 按开发阶段或活动类型分类
- **快速查找**: 通过文件名快速定位
- **交叉引用**: 建立日志之间的关联

### 维护建议
- **定期整理**: 定期整理和分类日志
- **索引更新**: 及时更新日志索引
- **链接检查**: 定期检查文档链接的有效性
- **内容审查**: 定期审查日志内容的完整性

## 🎯 规范意义

### 优势
1. **历史完整**: 保持每个开发活动的完整记录
2. **时间清晰**: 精确的时间戳便于追踪
3. **独立性强**: 每个日志文件独立，便于管理
4. **可追溯性**: 完整的开发历史记录
5. **通用性强**: 适用于各种类型的开发项目
6. **扩展性好**: 便于添加新的开发类型和规范

### 注意事项
- **严格遵守**: 此规范为强制规定
- **不得违反**: 禁止在现有日志文件中更新
- **持续执行**: 每次开发活动都必须创建新日志
- **跨平台兼容**: 确保在不同操作系统下都能正常工作
- **项目无关**: 规范适用于所有类型的开发项目

## 📋 律法检查清单

### 第一个律法：开发日志检查

#### 创建新日志前
- [ ] 获取当前精确时间戳
- [ ] 确认文件名唯一性
- [ ] 准备日志内容大纲
- [ ] 确认开发活动类型
- [ ] 准备相关文件列表
- [ ] **新增**: 准备总结语

#### 创建新日志后
- [ ] 验证文件创建成功
- [ ] 检查内容完整性
- [ ] 更新项目主文档引用
- [ ] 确认规范遵循
- [ ] 验证跨平台兼容性
- [ ] 检查文档链接有效性
- [ ] **新增**: 验证总结语正确性

### 第二个律法：代码注释检查

#### 代码注释检查
- [ ] 每个函数都有详细说明
- [ ] 每个参数都有解释
- [ ] 重要代码行都有注释
- [ ] 错误处理逻辑有说明
- [ ] 使用通俗易懂的语言
- [ ] 避免技术术语
- [ ] 提供背景知识
- [ ] 逻辑流程清晰

### 第三个律法：API版本管理检查

#### API版本检查
- [ ] 所有接口路径以 `/api/v{major}` 开头
- [ ] 版本号格式正确
- [ ] 向后兼容变更保持主版本号不变
- [ ] 破坏性变更主版本号+1
- [ ] 弃用通告信息完整
- [ ] 下线处理正确

#### 版本生命周期检查
- [ ] 新版本发布后旧版本继续接受请求
- [ ] 弃用通告在响应头中正确添加
- [ ] 下线日期设置合理
- [ ] 410 Gone响应正确实现
- [ ] 替代版本说明完整

#### 版本文档与测试检查
- [ ] 每个版本有独立文档
- [ ] Mock Server环境配置正确
- [ ] CI流水线分版本执行测试
- [ ] 旧版本功能测试完整
- [ ] 测试覆盖率达到要求

### 第四个律法：API文档自动化检查

#### 接口定义检查
- [ ] 使用OpenAPI/Swagger作为单一真源
- [ ] 所有请求参数完整列出
- [ ] 所有响应字段完整列出
- [ ] 所有错误码完整列出
- [ ] 中文及英文说明完整
- [ ] yaml文件同步更新

#### 文档生成与发布检查
- [ ] 文档从接口定义文件自动生成
- [ ] 接口定义与文档零差异
- [ ] 文档变更与代码同步发布
- [ ] 文档版本与代码版本一致
- [ ] 实时更新机制正常

#### 协作效率检查
- [ ] 代码变更时文档自动更新
- [ ] 团队协作效率提升
- [ ] 手动维护错误减少
- [ ] 文档与代码一致性保证

### 第五个律法：需求文档同步检查

#### 需求分类管理检查
- [ ] 需求已正确分类（新需求/旧需求变更）
- [ ] 新需求：来自市场调研、用户痛点分析或竞争调研的全新功能
- [ ] 旧需求变更：源自上线后反馈或项目内评审的功能修正
- [ ] 需求文档明确标识需求类型
- [ ] 不同类型需求创建独立文档

#### 需求文档位置规范检查
- [ ] 需求文档存储在 `docs/requirements/` 目录下
- [ ] 按日期创建子目录，格式为 `YYYY-MM-DD/`
- [ ] 文件命名格式为 `YYYY-MM-DD_HH-mm-ss_requirements_功能名称.md`
- [ ] 需求文档进行版本控制和变更记录

#### 需求文档判断流程检查
- [ ] 每次开发新功能前判断是否需要更新需求文档
- [ ] 新功能开发 → 创建新需求文档
- [ ] 现有功能修改 → 更新相关需求文档
- [ ] **BUG修复 → 禁止更新需求文档，只创建开发日志**
- [ ] 性能优化 → 更新相关需求文档
- [ ] UI调整 → 更新相关需求文档

#### 需求文档同步检查
- [ ] 功能修改前更新需求文档
- [ ] 需求文档反映最新功能状态
- [ ] 文档版本与功能版本同步
- [ ] 功能变更记录在需求文档中
- [ ] 文档状态与功能状态同步
- [ ] 定期检查文档与功能一致性

#### 文档维护检查
- [ ] 需求文档与实际功能保持一致
- [ ] 功能变更完整记录
- [ ] 文档更新及时完成
- [ ] 文档完整性检查通过
- [ ] 文档可追溯性保证
- [ ] 文档质量符合要求

### 第六个律法：代码修改与项目启动分离检查

#### 代码修改检查
- [ ] 只修改代码，不启动项目
- [ ] 等待用户明确指示
- [ ] 不假设用户需要启动项目
- [ ] 让用户完全控制启动时机

#### 后端代码修改处理检查
- [ ] 后端代码修改后自动停止进程
- [ ] 确保8080端口被释放
- [ ] 检查simple_server进程已停止
- [ ] 验证8080端口已释放

#### 项目启动检查
- [ ] 用户明确指示启动项目
- [ ] 用户明确要求测试功能
- [ ] 用户明确要求调试问题
- [ ] 用户明确要求演示功能

### 第七个律法：日志文件管理检查

#### 双重输出检查
- [ ] 日志同时输出到终端和文件
- [ ] 终端和文件输出同步
- [ ] 日志完整性检查
- [ ] 输出格式一致性检查

#### 文件命名检查
- [ ] 日志文件名包含时间范围
- [ ] 使用正确的时间格式
- [ ] 文件名唯一性检查
- [ ] 文件名可读性检查

#### 文件大小管理检查
- [ ] 文件大小限制为1MB
- [ ] 达到1MB时自动切换
- [ ] 切换过程无缝进行
- [ ] 历史文件管理正确

#### 存储位置检查
- [ ] 日志文件存储在backend/logs目录
- [ ] logs目录自动创建
- [ ] 目录权限设置正确
- [ ] 路径规范遵循

### 第八个律法：BUG修复与需求文档分离检查

#### BUG与需求区分检查
- [ ] 正确区分BUG和需求
- [ ] BUG定义：代码错误、逻辑错误、功能异常、性能问题
- [ ] 需求定义：来自市场调研、用户痛点分析或竞争调研的全新功能
- [ ] 严格禁止BUG修复更新需求文档

#### BUG修复处理检查
- [ ] BUG修复只创建开发日志
- [ ] 在开发日志中记录问题现象和解决方案
- [ ] 修复代码中的错误
- [ ] 验证修复效果
- [ ] 不更新需求文档

#### 需求文档使用范围检查
- [ ] 新功能开发需要更新需求文档
- [ ] 现有功能修改需要更新需求文档
- [ ] 性能优化需要更新需求文档
- [ ] UI调整需要更新需求文档
- [ ] BUG修复禁止更新需求文档

#### 违规处理检查
- [ ] 发现BUG修复更新需求文档视为严重违规
- [ ] 立即删除需求文档中的BUG修复内容
- [ ] 严格遵循分离原则
- [ ] 记录违规情况

### 第九个律法：接口测试必须使用Postman检查

#### 测试工具要求检查
- [ ] 所有接口测试都使用Postman
- [ ] 禁止使用curl、wget、浏览器开发者工具等其他工具
- [ ] 使用Postman CLI (newman) 进行自动化测试
- [ ] 所有接口测试包含在Postman Collection中

#### Postman Collection要求检查
- [ ] 所有Postman相关文件存储在postman/目录下
- [ ] Collection文件命名为collection.json
- [ ] 每个接口请求包含完整的测试脚本
- [ ] 包含状态码、响应时间、响应格式等断言

#### 测试脚本规范检查
- [ ] 验证响应状态码是否正确
- [ ] 验证响应时间是否在合理范围内
- [ ] 验证响应格式是否符合预期
- [ ] 验证响应数据是否正确
- [ ] 输出测试执行日志

#### 自动化测试要求检查
- [ ] 使用newman命令行工具执行测试
- [ ] 生成测试报告文件
- [ ] 支持CI/CD流程集成
- [ ] 测试失败时提供详细错误信息

#### 违规处理检查
- [ ] 发现使用其他工具进行接口测试视为严重违规
- [ ] 立即改用Postman进行测试
- [ ] 严格遵循Postman测试要求
- [ ] 记录违规情况

### 第十个律法：日总结规范检查

#### 总结要求检查
- [ ] 每天开发结束后创建日总结文档
- [ ] 总结当日所有开发活动
- [ ] 包含开发活动、技术突破、问题解决、成果统计
- [ ] 使用统一的日总结格式
- [ ] 文件命名格式为YYYY-MM-DD_HH-mm-ss_HH-mm-ss.md

#### 文件组织规范检查
- [ ] 日总结文档存储在docs/development-logs/daily-summaries/目录下
- [ ] 直接在daily-summaries目录下，不需要按日期创建子目录
- [ ] 文件命名格式为YYYY-MM-DD_HH-mm-ss_HH-mm-ss.md
- [ ] 日总结文档进行版本控制和变更记录

#### 内容要求检查
- [ ] 必须实际读取docs/development-logs/YYYY-MM-DD/目录下的所有日志文件
- [ ] 严禁基于记忆或假设进行总结
- [ ] 按时间顺序记录所有开发活动
- [ ] 突出当日主要成就和技术突破
- [ ] 详细记录技术实现过程
- [ ] 记录问题解决过程和方法
- [ ] 统计开发成果和技术特点

#### 总结流程检查
- [ ] 第一步：读取docs/development-logs/YYYY-MM-DD/目录下的所有日志文件
- [ ] 第二步：分析日志文件内容，提取关键信息
- [ ] 第三步：按时间顺序整理开发活动
- [ ] 第四步：总结主要成就和技术突破
- [ ] 第五步：记录问题解决过程和方法
- [ ] 第六步：统计开发成果和技术特点

#### 格式规范检查
- [ ] 使用统一的标题格式
- [ ] 包含总结日期、时间范围、开发阶段
- [ ] 使用清晰的内容结构
- [ ] 包含重要的代码示例
- [ ] 列出相关文件链接

#### 质量要求检查
- [ ] 确保内容准确无误，基于实际日志文件
- [ ] 保持逻辑清晰和条理分明
- [ ] 突出重要成就和技术突破
- [ ] 使用清晰易懂的语言
- [ ] 所有内容必须基于实际日志文件

#### 违规处理检查
- [ ] 发现未创建日总结文档视为严重违规
- [ ] 发现基于记忆而非实际日志文件进行总结视为严重违规
- [ ] 立即创建日总结文档
- [ ] 严格遵循日总结规范
- [ ] 记录违规情况

#### 律法遵循检查
- [ ] 遵循第一个律法（开发日志）
- [ ] 遵循第二个律法（代码注释）
- [ ] 遵循第三个律法（API版本管理）
- [ ] 遵循第四个律法（API文档自动化）
- [ ] 遵循第五个律法（需求文档同步）
- [ ] 遵循第六个律法（代码修改与项目启动分离）
- [ ] 遵循第七个律法（日志文件管理规范）
- [ ] 遵循第八个律法（BUG修复与需求文档分离）
- [ ] 遵循第九个律法（接口测试必须使用Postman）
- [ ] 律法执行一致
- [ ] 质量检查通过

#### 总结语检查
- [ ] 总结语与开发活动内容相关
- [ ] 总结语简洁明了
- [ ] 总结语使用英文
- [ ] 总结语长度合适
- [ ] 总结语易于理解

## 🔗 相关文件

### 核心文件
- `docs/development-log-standards.md` - 本规范文件
- `docs/development-logs/` - 开发日志目录
- 项目主文档 (如 README.md) - 项目主文档

### 示例日志
- 第一个日志: `docs/development-logs/2025-10-12/2025-10-12_15-07-53_development-log_initialSetup.md`
- 规范制定日志: `docs/development-logs/2025-10-12/2025-10-12_15-11-30_development-log_ruleEstablishment.md`
- 问题分析日志: `docs/development-logs/2025-10-12/2025-10-12_15-13-17_development-log_chassisAnalysis.md`
- 结构优化日志: `docs/development-logs/2025-10-12/2025-10-12_15-15-44_development-log_docsMigration.md`
- 格式改进日志: `docs/development-logs/2025-10-12/2025-10-12_15-23-58_development-log_formatImprovement.md`
- 第二个律法日志: `docs/development-logs/2025-10-12/2025-10-12_17-03-22_development-log_secondRule.md`
- 第一个律法修改日志: `docs/development-logs/2025-10-12/2025-10-12_17-09-18_development-log_aboutRuleUpdate.md`
- 总结语后缀添加日志: `docs/development-logs/2025-10-12/2025-10-12_17-11-20_development-log_addSummarySuffix.md`

### 律法特点
- **通用性**: 适用于所有类型的开发项目
- **灵活性**: 支持各种开发活动类型
- **扩展性**: 便于添加新的律法和规范
- **维护性**: 便于更新和维护律法
- **强制性**: 所有律法都是强制遵守的规定

### 律法体系
- **第一个律法**: 开发日志规范
- **第二个律法**: 代码注释规范
- **第三个律法**: API版本与兼容性管理
- **第四个律法**: 自动化API文档生成与发布
- **第五个律法**: 需求文档同步更新
- **第六个律法**: 代码修改与项目启动分离
- **第七个律法**: 日志文件管理规范
- **第八个律法**: BUG修复与需求文档分离
- **第九个律法**: 接口测试必须使用Postman
- **第十个律法**: 日总结规范
- **律法关系**: 十个律法相互补充，形成完整的开发规范体系
- **执行要求**: 所有律法都是强制遵守

---

**制定时间**: 2025-10-12 15:11:30  
**改进时间**: 2025-10-12 15:23:58  
**律法扩展**: 2025-10-12 17:03:22  
**律法修改**: 2025-10-12 17:09:18  
**总结语统一**: 2025-10-12 17:11:20  
**律法扩展**: 2025-10-12 22:09:44  
**律法扩展**: 2025-10-12 22:34:56  
**律法扩展**: 2025-10-13 11:09:52  
**律法扩展**: 2025-10-13 12:08:55  
**律法扩展**: 2025-10-13 12:34:22  
**律法扩展**: 2025-10-13 12:48:11  
**律法扩展**: 2025-10-13 12:58:22  
**律法扩展**: 2025-10-13 16:52:28  
**律法状态**: ✅ 已制定并生效  
**执行要求**: 🚨 强制遵守，不得违反
